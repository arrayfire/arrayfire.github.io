<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-130950618-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-130950618-1');
</script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ArrayFire: macros.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="arrayfire.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeInteractiveToc.init()
	DoxygenAwesomeFragmentCopyButton.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="2" cellpadding="2" width="100%">
 <tbody>
  <tr id="projectrow">
  <td id="projectlogo"><a  href="index.htm"><img alt="Logo" src="arrayfire_logo.png"/></a></td>
  </tr>
  <tr id="projectrow">
  <td>
  <div id="projectbrief">A high-performance general-purpose compute library</div>
  </td>
  </tr>
  <!--END !PROJECT_NAME-->
  <div>
    <td id="gsearch">
        <script async src="https://cse.google.com/cse.js?cx=004356362924927882526:zup3ehe-7bs"></script>
        <div class="gcse-search"></div>
    </td>
  </div>
 </tr>
 <tr>
  <td>
    <div id="togglediv"></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&#160;Page</span></a></li>
      <li><a href="tutorials.htm"><span>Tutorials</span></a></li>
      <li><a href="modules.htm"><span>Functions</span></a></li>
      <li><a href="releasenotes.htm"><span>Release&#160;Notes</span></a></li>
      <li><a href="examples.htm"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('macros_8h.htm',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">macros.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="macros_8h_source.htm">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acdc2d26f4e456a7d46b9fc04ed4c71d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macros_8h.htm#acdc2d26f4e456a7d46b9fc04ed4c71d8">AF_MSG</a>(fmt, ...)</td></tr>
<tr class="memdesc:acdc2d26f4e456a7d46b9fc04ed4c71d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a line on screen using printf syntax.  <a href="macros_8h.htm#acdc2d26f4e456a7d46b9fc04ed4c71d8">More...</a><br /></td></tr>
<tr class="separator:acdc2d26f4e456a7d46b9fc04ed4c71d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e9c364379ead9f305de7ddd1bba87e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macros_8h.htm#af5e9c364379ead9f305de7ddd1bba87e">AF_MEM_INFO</a>(msg)</td></tr>
<tr class="memdesc:af5e9c364379ead9f305de7ddd1bba87e"><td class="mdescLeft">&#160;</td><td class="mdescRight">AF_MEM_INFO macro can be used to print the current stats of ArrayFire's memory manager.  <a href="macros_8h.htm#af5e9c364379ead9f305de7ddd1bba87e">More...</a><br /></td></tr>
<tr class="separator:af5e9c364379ead9f305de7ddd1bba87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af5e9c364379ead9f305de7ddd1bba87e" name="af5e9c364379ead9f305de7ddd1bba87e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e9c364379ead9f305de7ddd1bba87e">&#9670;&#160;</a></span>AF_MEM_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AF_MEM_INFO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                           \</div>
<div class="line">    <span class="keywordtype">size_t</span> abytes = 0, abuffs = 0, lbytes = 0, lbuffs = 0;                              \</div>
<div class="line">    <a class="code hl_enumeration" href="defines_8h.htm#a82b94dc53bbd100a0e8ca9dd356aaf4f">af_err</a> err = <a class="code hl_function" href="group__device__func__mem.htm#gae633760aed4638f8a5ea333e0774ac84">af_device_mem_info</a>(&amp;abytes, &amp;abuffs, &amp;lbytes, &amp;lbuffs);                \</div>
<div class="line">    if(err == <a class="code hl_enumvalue" href="defines_8h.htm#a82b94dc53bbd100a0e8ca9dd356aaf4fa2e56d1f9585788fed8fbe3a321bddd76">AF_SUCCESS</a>) {                                                             \</div>
<div class="line">        printf(<span class="stringliteral">&quot;AF Memory at %s:%d: &quot;</span> msg <span class="stringliteral">&quot;\n&quot;</span>, __FILE__, __LINE__);                    \</div>
<div class="line">        printf(<span class="stringliteral">&quot;Allocated [ Bytes | Buffers ] = [ %ld | %ld ]\n&quot;</span>, abytes, abuffs);      \</div>
<div class="line">        printf(<span class="stringliteral">&quot;In Use    [ Bytes | Buffers ] = [ %ld | %ld ]\n&quot;</span>, lbytes, lbuffs);      \</div>
<div class="line">    } <span class="keywordflow">else</span> {                                                                            \</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;AF Memory at %s:%d: &quot;</span> msg <span class="stringliteral">&quot;\nAF Error %d\n&quot;</span>,                   \</div>
<div class="line">                __FILE__, __LINE__, err);                                               \</div>
<div class="line">    }                                                                                   \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="adefines_8h_htm_a82b94dc53bbd100a0e8ca9dd356aaf4f"><div class="ttname"><a href="defines_8h.htm#a82b94dc53bbd100a0e8ca9dd356aaf4f">af_err</a></div><div class="ttdeci">af_err</div><div class="ttdef"><b>Definition:</b> <a href="defines_8h_source.htm#l00071">defines.h:71</a></div></div>
<div class="ttc" id="adefines_8h_htm_a82b94dc53bbd100a0e8ca9dd356aaf4fa2e56d1f9585788fed8fbe3a321bddd76"><div class="ttname"><a href="defines_8h.htm#a82b94dc53bbd100a0e8ca9dd356aaf4fa2e56d1f9585788fed8fbe3a321bddd76">AF_SUCCESS</a></div><div class="ttdeci">@ AF_SUCCESS</div><div class="ttdoc">The function returned successfully.</div><div class="ttdef"><b>Definition:</b> <a href="defines_8h_source.htm#l00082">defines.h:75</a></div></div>
<div class="ttc" id="agroup__device__func__mem_htm_gae633760aed4638f8a5ea333e0774ac84"><div class="ttname"><a href="group__device__func__mem.htm#gae633760aed4638f8a5ea333e0774ac84">af_device_mem_info</a></div><div class="ttdeci">AFAPI af_err af_device_mem_info(size_t *alloc_bytes, size_t *alloc_buffers, size_t *lock_bytes, size_t *lock_buffers)</div><div class="ttdoc">Get memory information from the memory manager.</div></div>
</div><!-- fragment -->
<p>AF_MEM_INFO macro can be used to print the current stats of ArrayFire's memory manager. </p>
<p >AF_MEM_INFO print 4 values:</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocated Bytes   </td><td class="markdownTableBodyNone">Total number of bytes allocated by the memory manager    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Allocated Buffers   </td><td class="markdownTableBodyNone">Total number of buffers allocated    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Locked (In Use) Bytes   </td><td class="markdownTableBodyNone">Number of bytes that are in use by active arrays    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Locked (In Use) Buffers   </td><td class="markdownTableBodyNone">Number of buffers that are in use by active arrays   </td></tr>
</table>
<hr  />
<p >The <code>Allocated Bytes</code> is always a multiple of the memory step size. The default step size is 1024 bytes. This means when a buffer is to be allocated, the size is always rounded up to a multiple of the step size. You can use <a class="el" href="group__device__func__mem.htm#gaa1c5fab925db5bc7f7fbcd2d656bf601" title="Get the resolution of memory chunks.">af::getMemStepSize()</a> to check the current step size and <a class="el" href="group__device__func__mem.htm#ga0007f92737ed60d5286af34fd8652b0d" title="Set the resolution of memory chunks.">af::setMemStepSize()</a> to set a custom resolution size.</p>
<p >The <code>Allocated Buffers</code> is the number of buffers that use up the allocated bytes. This includes buffers currently in scope, as well as buffers marked as free, ie, from arrays gone out of scope. The free buffers are available for use by new arrays that might be created.</p>
<p >The <code>Locked Bytes</code> is the number of bytes in use that cannot be reallocated at the moment. The difference of Allocated Bytes and Locked Bytes is the total bytes available for reallocation.</p>
<p >The <code>Locked Buffers</code> is the number of buffer in use that cannot be reallocated at the moment. The difference of Allocated Buffers and Locked Buffers is the number of buffers available for reallocation.</p>
<p >The AF_MEM_INFO macro can accept a string an argument that is printed to screen</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>(Optional) A message that is printed to screen</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a class="code hl_define" href="macros_8h.htm#af5e9c364379ead9f305de7ddd1bba87e">AF_MEM_INFO</a>(<span class="stringliteral">&quot;At start&quot;</span>);</div>
<div class="ttc" id="amacros_8h_htm_af5e9c364379ead9f305de7ddd1bba87e"><div class="ttname"><a href="macros_8h.htm#af5e9c364379ead9f305de7ddd1bba87e">AF_MEM_INFO</a></div><div class="ttdeci">#define AF_MEM_INFO(msg)</div><div class="ttdoc">AF_MEM_INFO macro can be used to print the current stats of ArrayFire's memory manager.</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.htm#l00073">macros.h:73</a></div></div>
</div><!-- fragment --><p >Output: </p><pre class="fragment">AF Memory at /workspace/myfile.cpp:41: At Start
Allocated [ Bytes | Buffers ] = [ 4096 | 4 ]
In Use    [ Bytes | Buffers ] = [ 2048 | 2 ]
</pre> 
<p class="definition">Definition at line <a class="el" href="macros_8h_source.htm#l00073">73</a> of file <a class="el" href="macros_8h_source.htm">macros.h</a>.</p>

</div>
</div>
<a id="acdc2d26f4e456a7d46b9fc04ed4c71d8" name="acdc2d26f4e456a7d46b9fc04ed4c71d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc2d26f4e456a7d46b9fc04ed4c71d8">&#9670;&#160;</a></span>AF_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AF_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        <span class="keywordflow">do</span> {            \</div>
<div class="line">        printf(<span class="stringliteral">&quot;%s:%d: &quot;</span> fmt <span class="stringliteral">&quot;\n&quot;</span>,      \</div>
<div class="line">                 __FILE__, __LINE__, ##__VA_ARGS__);      \</div>
<div class="line">        } <span class="keywordflow">while</span> (0);</div>
</div><!-- fragment -->
<p>Print a line on screen using printf syntax. </p>
<p >Usage: Uses same syntax and semantics as printf. Output: &lt;filename&gt;:&lt;line number&gt;: &lt;message&gt; </p>

<p class="definition">Definition at line <a class="el" href="macros_8h_source.htm#l00019">19</a> of file <a class="el" href="macros_8h_source.htm">macros.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
        <li class="navelem"><a class="el" href="macros_8h.htm">macros.h</a></li>
        <li class="footer">Generated on Wed Aug 30 2023 15:41:55 for ArrayFire by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
    </ul>
</div>
</body>
</html>
