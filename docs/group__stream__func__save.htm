<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-130950618-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-130950618-1');
</script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ArrayFire: saveArray</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="arrayfire.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeInteractiveToc.init()
	DoxygenAwesomeFragmentCopyButton.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="2" cellpadding="2" width="100%">
 <tbody>
  <tr id="projectrow">
  <td id="projectlogo"><a  href="index.htm"><img alt="Logo" src="arrayfire_logo.png"/></a></td>
  </tr>
  <tr id="projectrow">
  <td>
  <div id="projectbrief">A high-performance general-purpose compute library</div>
  </td>
  </tr>
  <!--END !PROJECT_NAME-->
  <div>
    <td id="gsearch">
        <script async src="https://cse.google.com/cse.js?cx=004356362924927882526:zup3ehe-7bs"></script>
        <div class="gcse-search"></div>
    </td>
  </div>
 </tr>
 <tr>
  <td>
    <div id="togglediv"></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.htm"><span>Main&#160;Page</span></a></li>
      <li><a href="tutorials.htm"><span>Tutorials</span></a></li>
      <li class="current"><a href="modules.htm"><span>Functions</span></a></li>
      <li><a href="releasenotes.htm"><span>Release&#160;Notes</span></a></li>
      <li><a href="examples.htm"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__stream__func__save.htm',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">saveArray<div class="ingroups"><a class="el" href="group__arrayfire__func.htm">ArrayFire Functions</a> &#124; <a class="el" href="group__func__categories.htm">ArrayFire Functions by Category</a> &raquo; <a class="el" href="group__io__mat.htm">Input and Output functions</a> &raquo; <a class="el" href="group__dataio__mat.htm">Reading and writing arrays</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Save an array to a binary file.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gade6a266935429ab4e5c80340ec25cfc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defines_8h.htm#ab23e67549eba2cfbaf0eb5f88f947e48">AFAPI</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__func__save.htm#gade6a266935429ab4e5c80340ec25cfc6">saveArray</a> (const char *key, const <a class="el" href="classaf_1_1array.htm">array</a> &amp;arr, const char *filename, const bool append=false)</td></tr>
<tr class="separator:gade6a266935429ab4e5c80340ec25cfc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cb2f467e3f00b619cb2b4c727f1200b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defines_8h.htm#ab23e67549eba2cfbaf0eb5f88f947e48">AFAPI</a> <a class="el" href="defines_8h.htm#a82b94dc53bbd100a0e8ca9dd356aaf4f">af_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__func__save.htm#ga3cb2f467e3f00b619cb2b4c727f1200b">af_save_array</a> (int *index, const char *key, const <a class="el" href="defines_8h.htm#a8e45f4aa3dbea6a7aa021dbc50a4a089">af_array</a> arr, const char *filename, const bool append)</td></tr>
<tr class="separator:ga3cb2f467e3f00b619cb2b4c727f1200b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Save an array to a binary file. </p>
<p >The saveArray and readArray functions are designed to provide store and read access to arrays using files written to disk.</p>
<p >The format of the file (version 1) is as follows:</p>
<p >Header: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Data Type   </th><th class="markdownTableHeadNone">Size (Bytes)   </th><th class="markdownTableHeadNone">Detailed Desc    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Version   </td><td class="markdownTableBodyNone">Char   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">ArrayFire File Format Version for future use. Currently set to 1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Array Count   </td><td class="markdownTableBodyNone">Int   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">No. of Arrays stored in file   </td></tr>
</table>
<p >Per Array: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Data Type   </th><th class="markdownTableHeadNone">Size (Bytes)   </th><th class="markdownTableHeadNone">Detailed Desc    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Length of Key String   </td><td class="markdownTableBodyNone">Int   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">No. of characters (excluding null ending) in the key string    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Key   </td><td class="markdownTableBodyNone">Char []   </td><td class="markdownTableBodyNone">length   </td><td class="markdownTableBodyNone">Key of the Array. Used when reading from file    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Offset   </td><td class="markdownTableBodyNone">Int64   </td><td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">No of bytes between offset and start of next array    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Array Type   </td><td class="markdownTableBodyNone">Char   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Type corresponding to af_dtype enum    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Dims (4 values)   </td><td class="markdownTableBodyNone">Int64   </td><td class="markdownTableBodyNone">4 * 8 = 32   </td><td class="markdownTableBodyNone">Dimensions of the Array    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Data   </td><td class="markdownTableBodyNone">Type   </td><td class="markdownTableBodyNone">sizeof(Type) * dims.elements()   </td><td class="markdownTableBodyNone">Actual data of the array   </td></tr>
</table>
<p >The offset is equal to 1 byte (type) + 32 bytes (dims) + size of data.</p>
<p >An file with 2 arrays would look like (representative)</p>
<blockquote class="doxtable">
<p >&zwj;1<br  />
2<br  />
Array 1 Key Length<br  />
Array 1 Key<br  />
Array 1 Offset<br  />
Array 1 Type<br  />
Array 1 Dims<br  />
Array 1 Data<br  />
Array 2 Key Length<br  />
Array 2 Key<br  />
Array 2 Offset<br  />
Array 2 Type<br  />
Array 2 Dims<br  />
Array 2 Data<br  />
</p>
</blockquote>
<p>Save array allows you to append any number of Arrays to the same file using the append argument. If the append argument is false, then the contents of the file are discarded and new array is written anew.</p>
<p >On each append, the array counter in the header is incremented and the new array is written to the end of the file. This function does not check if the tag is unique or not. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3cb2f467e3f00b619cb2b4c727f1200b" name="ga3cb2f467e3f00b619cb2b4c727f1200b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cb2f467e3f00b619cb2b4c727f1200b">&#9670;&#160;</a></span>af_save_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defines_8h.htm#ab23e67549eba2cfbaf0eb5f88f947e48">AFAPI</a> <a class="el" href="defines_8h.htm#a82b94dc53bbd100a0e8ca9dd356aaf4f">af_err</a> af_save_array </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="defines_8h.htm#a8e45f4aa3dbea6a7aa021dbc50a4a089">af_array</a>&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>append</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">index</td><td>is the index location of the array in the file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>is an expression used as tag/key for the array during <a class="el" href="group__stream__func__read.htm#ga96a8b4909401cefdb3f9d4664b45f8c0">af::readArray()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arr</td><td>is the array to be written </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>is the path to the location on disk </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">append</td><td>is used to append to an existing file when true and create or overwrite an existing file when false </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gade6a266935429ab4e5c80340ec25cfc6" name="gade6a266935429ab4e5c80340ec25cfc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade6a266935429ab4e5c80340ec25cfc6">&#9670;&#160;</a></span>saveArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defines_8h.htm#ab23e67549eba2cfbaf0eb5f88f947e48">AFAPI</a> int saveArray </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classaf_1_1array.htm">array</a> &amp;&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>append</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>is an expression used as tag/key for the array during <a class="el" href="group__stream__func__read.htm#ga96a8b4909401cefdb3f9d4664b45f8c0">readArray</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arr</td><td>is the array to be written </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>is the path to the location on disk </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">append</td><td>is used to append to an existing file when true and create or overwrite an existing file when false</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of the saved array in the file </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
        <li class="footer">Generated on Wed Aug 30 2023 15:41:58 for ArrayFire by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
    </ul>
</div>
</body>
</html>
